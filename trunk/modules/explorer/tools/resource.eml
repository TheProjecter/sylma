<?xml version="1.0" encoding="utf-8"?>
<le:action xmlns:le="http://www.sylma.org/execution" xmlns:li="http://www.sylma.org/interface" xmlns="http://www.w3.org/1999/xhtml" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:la="/sylma/processors/action-builder/schema">
  <le:settings>
    <le:name>Outils des ressources</le:name>
  </le:settings>
  <la:object extend-base="sylma.classes" name="tools" class="/sylma.explorer-classes.tools">
    <la:property name="pathRights">/update-rights</la:property>
    <la:property name="pathName">/update-name</la:property>
    <la:property name="pathDelete">/delete</la:property>
    <la:property name="sub">
      <div id="resource-tools">
        <div class="button">
          <span>R</span>
          <la:event name="click" limit="self, first"><![CDATA[var oParent = %ref-object%;

oParent.clearSub();
oParent.loadRights();

return oParent.sub.rights.show();]]></la:event>
          <le:action path="resource-rights"/>
        </div>
        <div class="button">
          <span>N</span>
          <la:event name="click" limit="self, first"><![CDATA[var oParent = %ref-object%;

//sylma.dspf(oParent);
oParent.clearSub();
oParent.loadName();

return oParent.sub.editName.show();]]></la:event>
          <la:object class="menu" name="editName">
            <form class="tools" id="resource-tools-name">
              <la:event name="submit"><![CDATA[return %ref-object%.parentObject.updateName();]]></la:event>
              <div><input type="text" name="resource-name"/></div>
              <div class="center">
                <input type="button" value="Annuler">
                  <la:event name="click"><![CDATA[return %ref-object%.hide();]]></la:event>
                </input>
                <input type="submit" value="Modifier"/>
              </div>
            </form>
          </la:object>
        </div>
        <div class="button">
          <span>S</span>
          <la:event name="click" limit="self, first"><![CDATA[var oParent = %ref-object%;

oParent.clearSub();  
return oParent.sub.deleteBox.show();]]></la:event>
          <la:object class="menu" name="deleteBox">
            <form class="tools" id="resource-tools-delete">
              <la:event name="submit"><![CDATA[return %ref-object%.parentObject.deleteResource();]]></la:event>
              <div>Voulez-vous supprimer cette resource ?</div>
              <div class="center">
                <input type="button" value="Annuler">
                  <la:event name="click"><![CDATA[return %ref-object%.hide();]]></la:event>
                </input>
                <input type="submit" value="Supprimer"/>
              </div>
            </form>
          </la:object>
        </div>
      </div>
    </la:property>
  </la:object>
</le:action>
