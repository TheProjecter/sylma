<?xml version="1.0" encoding="utf-8"?>
<le:action xmlns:le="http://www.sylma.org/execution" xmlns:li="http://www.sylma.org/interface" xmlns="http://www.w3.org/1999/xhtml" xmlns:la="/sylma/processors/action-builder/schema">
  <le:settings>
    <le:name>Fichier</le:name>
    <le:argument required="false" format="php-boolean" name="directory" use-post="true" use-mixed="true">
      <le:default><le:boolean>false</le:boolean></le:default>
    </le:argument>
    <le:argument format="php-string" name="resource" use-post="true">
      <le:validate>
        <le:get-argument name="directory">
          <li:if>
            <le:controler>
              <li:get-directory set-variable="resource">
                <le:get-argument name="resource"/>
              </li:get-directory>
            </le:controler>
          </li:if>
          <li:if-not>
            <le:controler>
              <li:get-file set-variable="resource">
                <le:get-argument name="resource"/>
              </li:get-file>
            </le:controler>
          </li:if-not>
        </le:get-argument>
      </le:validate>
    </le:argument>
    <le:processor path="/sylma/processors/action-builder" namespace="/sylma/processors/action-builder/schema"/>
  </le:settings>
  <le:recall>
    <le:get-variable name="resource">
      <li:parse>
        <li:get-document>
          <li:parse>
            <le:template path="templates/standalone.xsl">
              <li:set-parameter>
                <le:argument>directory</le:argument>
                <le:string>
                  <le:directory/>
                </le:string>
              </li:set-parameter>
            </le:template>
          </li:parse>
        </li:get-document>
      </li:parse>
    </le:get-variable>
  </le:recall>
</le:action>
